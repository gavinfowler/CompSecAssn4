<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />

    <title>Assn4</title>
    <meta name="description" content="Computer Security Assn4" />
    <meta name="author" content="GAMK" />

    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
  </head>

  <body>
    <div
      class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm"
    >
      <h5 class="my-0 mr-md-auto font-weight-normal">
          <a href="/" class="text-black">
            Computer Security Assignment 4
          </a>
      </h5>
      <nav class="my-2 my-md-0 mr-md-3">
        <a class="p-2 text-dark" href="/task1">Task 1</a>
        <a class="p-2 text-dark" href="/task2">Task 2</a>
        <a class="p-2 text-dark" href="/task3">Task 3A</a>
        <a class="p-2 text-dark" href="/task3/login">Task 3C</a>
      </nav>
    </div>
    <div class="text-center">
      <h1>Task 1</h1>
      <div class="input-group mb-3 mx-auto mt-5 w-50">
        <input id="input" type="text" class="form-control" placeholder="Password" aria-label="Recipient's username" aria-describedby="basic-addon2">
        <div class="input-group-append">
          <button onclick="buttonClicked()" class="btn btn-primary" type="button">Generate List</button>
        </div>
      </div>
      <div>
        <p class="mt-5">
          Result:
        </p>
        <p id="result"
          class="mt-3 text-justify"
          style="width:80%;margin:auto">
          Nothing yet...
        </p>
      </div>
    </div>
  </body>
  <script>
    let button = document.getElementById("button")
    let input = document.getElementById("input")
    let result = document.getElementById("result")
    
    function buttonClicked () {
      let value = input.value
      result.innerHTML = "Working..."
      var xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function() {
          if (this.readyState == 4 && this.status == 200) {
            // Typical action to be performed when the document is ready:
            result.innerHTML = JSON.parse(xhttp.responseText).words.join(', ');
          }
      };
      xhttp.open("GET", "/task1/" + value, true);
      xhttp.send();
    }
  </script>
</html>